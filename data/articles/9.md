### 储存类别介绍

在`S3`中储存对象时，可以选择不同的储存类别，对应不同的持久性、可用性及价格等。

![S3储存类别](/static/images/9/1.png)

- `STANDARD`: 用于储存经常访问的对象，默认的标准储存类别，存储费用最高，请求(执行`Select/GET/PUT`等操作)费用最低；
- `STANDARD_IA`: 用于储存**不**经常访问的对象，存储费用较低，请求费用较高；
- `INTELLIGENT_TIERING`: 这种储存类别将对象存储在两个访问层中，一个是频繁访问的层，一个是不频繁访问的层；如果对象`30`天内未访问，则会被移动至不频繁访问的层，如果不频繁访问层中的对象被访问，则会被移动至频繁访问的层；频繁访问的层的存储费用与`STANDARD`一样，不频繁访问层的存储费用与`STANDARD_IA`一样，该储存类别的请求费用与`STANDARD`一样，**该储存类别有额外的监控费用**；
- `ONEZONE_IA`: 与`STANDARD_IA`类似，只是只在一个可用区存储对象数据，因此比`STANDARD_IA`更便宜；
- `GLACIER`: 适用于不常访问数据，存储费用最低，存档对象不能实时访问，需要访问时要将存档对象转为`RRS`，对对象的访问按照`RRS`价格收费；
- `RRS`: 用于冗余的、非关键性可再生数据的存档，`AWS`不建议用户自己去使用；
- `Glacier Deep Archive`: 这是`AWS`即将推出的一种新的储存类，`AWS`称其有比`GLACIER`更低的储存价格，网上资料显示其最小存档时间为`180`天，检索时间也比`GLACIER`更长，在`12`个小时以内，其余性质与`GLACIER`一致；

*注：`AWS S3`服务的定价策略比较复杂，不仅分存储费用、请求费用，还有数据传输费用、检索费用等，以上只是简单的说明一下不同存储类别的大致费用对比，详情可以参考[Amazon S3 定价][1]。*

---

### 使用不同的存储类别（控制台操作）

以下步骤通过为储存桶添加生命周期规则来实现定期存储类别转化，实际上使用`API`或`SDK`可以在上传对象的时候直接指定存储类别，也可以修改已有对象的存储类别，具有更大的灵活性。

1. 登录`S3`控制台，选择一个储存桶，例如`cig-test`，单击进入，单击**管理**；

    ![clipboard.png](/static/images/9/2.png)

2. 单击**添加生命周期规则**；

    ![clipboard.png](/static/images/9/3.png)
    
3. 为需要添加的规则起个名字`test-lifecycle`，第二个文本框可选择输入筛选条件，该条件可以指定前缀（即文件夹）和标签，例如输入`derek`，选择**前缀`derek`**，表示规则适用于`derek`文件夹；可以添加多条规则；
    
    ![clipboard.png](/static/images/9/4.png)
  
4. 点击下一步，进入存储类转化界面，选择**当前版本**(如果启用了版本控制，也可以选择**先前版本**，对老的版本进行存储类转化操作)，然后如下图添加转化规则，第一条规则是`30`天之后将对象的存储类别变为`STANDARD_IA`，第二条是`365`天之后变为`GLACIER`；

    ![clipboard.png](/static/images/9/5.png)
  
5. 下一步配置过期暂不需要，再点击下一步，然后保存，此时生命周期规则已经创建好并处于启用的状态，可以随时**编辑**、**删除**或者**禁用**这条规则；

    ![clipboard.png](/static/images/9/6.png)


  [1]: https://amazonaws-china.com/cn/s3/pricing/